<!doctype html>
<html lang="cs">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Naƒç√≠t√°n√≠‚Ä¶</title>

<style>
:root{
  --gold: #f1d27a;
  --gold-dark: #c9a44a;
  --gold-darker: #7a5a23;
  --wood: #8b4513;
  --wood-dark: #654321;
}

html, body { 
  height: 100%; 
  margin: 0;
  overflow: hidden;
}

body{
  background: #000;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* STAGE */
.stage{
  position: fixed;
  inset: 0;
  background: #000;
  overflow: hidden;
}

/* BACKGROUND - cel√° str√°nka */
.bg{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover; /* Cover m√≠sto contain - vypln√≠ celou obrazovku */
  object-position: center;
  opacity: 0;
  transition: opacity 1.2s ease-in-out;
  filter: saturate(1.1) contrast(1.08) brightness(0.85);
  will-change: transform, opacity;
}

.bg.show{ 
  opacity: 1; 
}

/* Plynul√Ω zoom efekt */
.kenburns{ 
  animation: kenburns 20s ease-in-out forwards; 
}
@keyframes kenburns{
  0%   { transform: scale(1.08) translate(0, 0); }
  100% { transform: scale(1.15) translate(-2%, -1.5%); }
}

/* OVERLAYS - tmav≈°√≠ pro lep≈°√≠ kontrast */
.vignette{
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at center,
    rgba(0,0,0,0) 20%,
    rgba(0,0,0,0.6) 70%,
    rgba(0,0,0,0.9) 100%);
  z-index: 1;
}

.mist{
  position: absolute;
  inset: 0;
  background: linear-gradient(to bottom, 
    rgba(0,0,0,0.3), 
    rgba(0,0,0,0.7) 80%,
    rgba(0,0,0,0.85) 100%);
  z-index: 2;
}

/* Film grain */
.grain{
  position: absolute;
  inset: -20%;
  opacity: 0.18;
  background-image: repeating-linear-gradient(
    0deg,
    rgba(255,255,255,.05),
    rgba(255,255,255,.05) 1px,
    rgba(0,0,0,.05) 2px,
    rgba(0,0,0,.05) 3px
  );
  animation: grain 2s steps(6) infinite;
  mix-blend-mode: overlay;
  z-index: 3;
}
@keyframes grain{
  0% { transform: translate(-2%, -1%); }
  100% { transform: translate(2%, 1%); }
}

/* === UI PANEL - Shop styl === */
.ui{
  position: absolute;
  left: 50%;
  bottom: 8vh;
  transform: translateX(-50%);
  width: min(800px, 94vw);
  text-align: center;
  color: var(--gold);
  z-index: 10;
}

/* Luxusn√≠ karta ve stylu shopu */
.panel{
  padding: 28px 32px 26px;
  border-radius: 16px;
  background: 
    linear-gradient(135deg, 
      rgba(30, 36, 42, 0.97) 0%,
      rgba(18, 22, 26, 0.99) 100%);
  border: 4px solid;
  border-image: linear-gradient(135deg, var(--gold-darker), var(--gold-dark), var(--gold-darker)) 1;
  backdrop-filter: blur(18px);
  box-shadow: 
    0 20px 60px rgba(0,0,0,0.9),
    0 0 40px rgba(241, 210, 122, 0.15),
    inset 0 2px 15px rgba(255, 215, 100, 0.1);
  position: relative;
  overflow: hidden;
}

/* Subtiln√≠ shine efekt */
.panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 215, 100, 0.08), 
    transparent);
  animation: shine 3s infinite;
}

@keyframes shine {
  0%, 100% { left: -100%; }
  50% { left: 100%; }
}

.title{
  font-size: 38px;
  font-weight: 900;
  letter-spacing: 3px;
  margin-bottom: 10px;
  text-transform: uppercase;
  color: var(--gold);
  text-shadow: 
    0 0 20px rgba(241, 210, 122, 0.6),
    0 0 40px rgba(241, 210, 122, 0.3),
    0 4px 12px rgba(0,0,0,1),
    0 8px 30px rgba(0,0,0,0.9);
  position: relative;
  z-index: 1;
}

.sub{
  font-size: 18px;
  font-weight: 700;
  color: var(--gold-dark);
  margin-bottom: 20px;
  text-shadow: 0 2px 8px rgba(0,0,0,0.8);
  letter-spacing: 1px;
}

/* PROGRESS BAR - Shop style */
.bar{
  position: relative;
  height: 42px;
  border-radius: 12px;
  background: rgba(0,0,0,0.5);
  border: 3px solid var(--gold-dark);
  overflow: hidden;
  box-shadow:
    inset 0 2px 0 rgba(255,255,255,0.1),
    inset 0 -15px 30px rgba(0,0,0,0.5),
    0 15px 40px rgba(0,0,0,0.6);
}

/* Animovan√© pruhy v pozad√≠ */
.bar::before{
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(90deg, rgba(255,255,255,0.1), rgba(255,255,255,0)),
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,0.08) 0px,
      rgba(255,255,255,0.08) 12px,
      rgba(255,255,255,0) 12px,
      rgba(255,255,255,0) 26px
    );
  opacity: 0.6;
  transform: translateX(0);
  animation: stripes 1.5s linear infinite;
  pointer-events: none;
}
@keyframes stripes{
  0% { transform: translateX(0); }
  100% { transform: translateX(32px); }
}

/* Fill - zlat√Ω gradient */
.fill{
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, 
    var(--gold-darker), 
    var(--gold-dark),
    var(--gold));
  transition: width 0.12s linear;
  position: relative;
  box-shadow: 
    0 0 30px rgba(241, 210, 122, 0.4),
    inset 0 2px 0 rgba(255,255,255,0.3);
}

/* Lesk na fill */
.fill::after{
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(to bottom,
    rgba(255,255,255,0.5) 0%,
    rgba(255,255,255,0.15) 40%,
    rgba(255,255,255,0) 70%);
  opacity: 0.9;
  pointer-events: none;
}

/* Sv√≠t√≠c√≠ okraj p≈ôi plnƒõn√≠ */
.fill::before {
  content: '';
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: rgba(255,255,255,0.9);
  box-shadow: 0 0 15px rgba(255,255,255,0.8);
}

/* Procenta v baru */
.pctInBar{
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 16px;
  font-weight: 900;
  color: var(--gold);
  text-shadow: 
    0 0 10px rgba(241, 210, 122, 0.8),
    0 3px 15px rgba(0,0,0,1);
  z-index: 3;
  user-select: none;
  letter-spacing: 1px;
}

/* Loading teƒçky */
.dots::after{
  content: "";
  display: inline-block;
  width: 24px;
  text-align: left;
  animation: dots 1.2s steps(4,end) infinite;
}
@keyframes dots{
  0%{ content: ""; }
  25%{ content: "."; }
  50%{ content: ".."; }
  75%{ content: "..."; }
  100%{ content: ""; }
}

/* Hover efekt na panel kdy≈æ je ready */
.panel.ready {
  cursor: pointer;
  transition: all 0.3s ease;
}

.panel.ready:hover {
  transform: translateY(-5px);
  border-image: linear-gradient(135deg, var(--gold), var(--gold-dark), var(--gold)) 1;
  box-shadow: 
    0 25px 70px rgba(0,0,0,0.95),
    0 0 60px rgba(241, 210, 122, 0.3),
    inset 0 2px 20px rgba(255, 215, 100, 0.2);
}

/* Pulzuj√≠c√≠ animace pro "P≈ôipraveno" */
@keyframes pulse {
  0%, 100% { 
    text-shadow: 
      0 0 20px rgba(241, 210, 122, 0.6),
      0 0 40px rgba(241, 210, 122, 0.3),
      0 4px 12px rgba(0,0,0,1);
  }
  50% { 
    text-shadow: 
      0 0 30px rgba(241, 210, 122, 0.9),
      0 0 60px rgba(241, 210, 122, 0.5),
      0 4px 12px rgba(0,0,0,1),
      0 0 80px rgba(241, 210, 122, 0.2);
  }
}

.title.ready {
  animation: pulse 2s ease-in-out infinite;
}

/* Mobile responsivita */
@media (max-width: 768px) {
  .title {
    font-size: 28px;
    letter-spacing: 2px;
  }
  
  .sub {
    font-size: 14px;
  }
  
  .bar {
    height: 36px;
  }
  
  .pctInBar {
    font-size: 14px;
  }
  
  .panel {
    padding: 20px 24px;
  }
}
</style>
    <link rel="stylesheet" href="sf_scale.css">
    <script src="sf_scale.js"></script>
  <link rel="stylesheet" href="global.css">
<script src="lang.js" defer></script>
<script src="lang_pack.js"></script>
<link rel="stylesheet" href="mobile.css">
</head>

<body>

<div class="stage">
  <img id="bgImg" class="bg show kenburns" src="anim1.jpg" alt="loading">

  <div class="mist"></div>
  <div class="vignette"></div>
  <div class="grain"></div>

  <div class="ui">
    <div class="panel" id="panel">
      <div class="title" id="loadingText">Naƒç√≠t√°n√≠<span class="dots"></span></div>
      <div class="sub" id="subText"></div>

      <div class="bar" aria-label="Loading">
        <div class="fill" id="fill"></div>
        <div class="pctInBar" id="pct">0%</div>
      </div>
    </div>
  </div>
</div>

<script>
const NEXT_PAGE = "postava.html";
const frames = ["anim1.jpg","anim2.jpg","anim3.jpg","anim4.jpg","anim5.jpg"];

// P≈ôesnƒõ 15 sekund celkem
const TOTAL_TIME = 15000;

// Rozdƒõl√≠me 15s mezi poƒçet fram≈Ø
const FRAME_TIME = Math.floor(TOTAL_TIME / frames.length);

// Preload v≈°ech obr√°zk≈Ø
frames.forEach(src => { const i = new Image(); i.src = src; });

const img  = document.getElementById("bgImg");
const fill = document.getElementById("fill");
const pct  = document.getElementById("pct");
const text = document.getElementById("loadingText");
const sub  = document.getElementById("subText");
const panel = document.getElementById("panel");

let index = 0;
let start = performance.now();
let ready = false;

function restartKenBurns(){
  img.classList.remove("kenburns");
  void img.offsetWidth;
  img.classList.add("kenburns");
}

// St≈ô√≠d√°n√≠ obr√°zk≈Ø
setInterval(() => {
  img.classList.remove("show");
  setTimeout(() => {
    index = (index + 1) % frames.length;
    img.src = frames[index];
    restartKenBurns();
    img.classList.add("show");
  }, 600);
}, FRAME_TIME);

// Po 100% zobraz√≠ "klikni pro spu≈°tƒõn√≠"
function showStart(){
  if (ready) return;
  ready = true;

  // Texty
  text.innerHTML = '‚ö° P≈òIPRAVENO ‚ö°';
  text.classList.remove("dots");
  text.classList.add("ready");
  
  sub.textContent = 'üéÆ Klikni pro spu≈°tƒõn√≠ hry üéÆ';
  sub.style.fontSize = '20px';
  sub.style.color = 'var(--gold)';

  // Panel jako tlaƒç√≠tko
  panel.classList.add("ready");
  panel.style.userSelect = "none";

  // Klik (staƒç√≠ jednou)
  panel.addEventListener("click", () => {
    location.href = NEXT_PAGE;
  }, { once: true });
}

// Progress
function update(){
  const elapsed = performance.now() - start;
  const p = Math.min(elapsed / TOTAL_TIME, 1);
  const percent = Math.floor(p * 100);

  fill.style.width = percent + "%";
  pct.textContent = percent + "%";

  if (!ready){
    if (percent < 30) {
      text.innerHTML = '‚öôÔ∏è Naƒç√≠t√°n√≠<span class="dots"></span>';
      sub.textContent = 'Inicializace syst√©mu';
    }
    else if (percent < 60) {
      text.innerHTML = 'üì¶ Naƒç√≠t√°m soubory<span class="dots"></span>';
      sub.textContent = 'Stahov√°n√≠ asset≈Ø';
    }
    else if (percent < 90) {
      text.innerHTML = 'üîß Dokonƒçuji p≈ô√≠pravu<span class="dots"></span>';
      sub.textContent = 'Sestavov√°n√≠ svƒõta';
    }
    else {
      text.innerHTML = '‚ú® T√©mƒõ≈ô hotovo<span class="dots"></span>';
      sub.textContent = 'Fin√°ln√≠ √∫pravy';
    }
  }

  if (percent >= 100){
    showStart();
    return;
  }
  requestAnimationFrame(update);
}
requestAnimationFrame(update);
</script>

<script src="mobile_lock.js"></script>
</body>
</html>
