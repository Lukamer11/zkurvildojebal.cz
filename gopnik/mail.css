/* mail.css */

/* MUSÍ BÝT ÚPLNĚ NAHOŘE – sjednocené menu z MISE */
@import url("mise.css");

/* ===== RESET ===== */
* { box-sizing: border-box; margin: 0; padding: 0; }

body{
  font-family: system-ui, -apple-system, sans-serif;
  background:#0f1418;
  background-image:url('pozadi.jpg');
  background-size:cover;
  background-position:center;
  background-attachment:fixed;
  background-repeat:no-repeat;
  color:#fff;
  overflow:hidden;
}

.layout{
  display:grid;
  grid-template-columns: 220px 1fr;
  height:100vh;
  gap:22px;
  padding:16px;
}

/* ===== MAIL AREA ===== */
.mail-area{
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:10px 0;
  height:100%;
  overflow:hidden;
}

.mail-title{
  font-size:32px;
  font-weight:900;
  text-transform:uppercase;
  letter-spacing:3px;
  color:#f1d27a;
  text-shadow:
    0 0 15px rgba(241, 210, 122, 0.6),
    0 0 30px rgba(241, 210, 122, 0.4),
    0 4px 10px rgba(0,0,0,.9);
  padding:14px 24px;
  background:
    linear-gradient(135deg, rgba(40,35,25,0.95), rgba(25,20,12,0.98)),
    url('pozadi_menu.jpg');
  background-size:cover;
  background-position:center;
  background-blend-mode:overlay;
  border:4px solid;
  border-image: linear-gradient(135deg, #7a5a23, #c9a44a, #7a5a23) 1;
  border-radius:16px;
  text-align:center;
  box-shadow:
    0 15px 40px rgba(0,0,0,.8),
    inset 0 2px 10px rgba(255,215,100,0.15);
}

.mail-container{
  display:grid;
  grid-template-columns: 450px 1fr;
  gap:16px;
  flex:1;
  overflow:hidden;
  min-height:0;
}

/* ===== LIST ===== */
.mail-list-section{
  background:
    linear-gradient(135deg, rgba(30,36,42,0.97), rgba(18,22,26,0.99)),
    url('pozadi_menu.jpg');
  background-size:cover;
  background-position:center;
  background-blend-mode:overlay;
  border:4px solid;
  border-image: linear-gradient(135deg, #7a5a23, #c9a44a, #7a5a23) 1;
  border-radius:14px;
  padding:18px;
  box-shadow:
    0 15px 45px rgba(0,0,0,.8),
    inset 0 2px 10px rgba(255,215,100,0.1);
  display:flex;
  flex-direction:column;
  gap:14px;
  overflow:hidden;
}

.section-header{ display:flex; flex-direction:column; gap:10px; }
.section-header h2{
  font-size:20px;
  font-weight:900;
  color:#f1d27a;
  text-shadow: 0 2px 6px rgba(0,0,0,.8);
  text-transform:uppercase;
  letter-spacing:1.5px;
}

.mail-tabs-row{
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
}

.mail-tabs{ display:flex; gap:8px; }

.tab-btn{
  padding:8px 16px;
  border-radius:10px;
  border:2px solid #5a4520;
  background: url('tlacitko.jpg');
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  font-weight:900;
  font-size:12px;
  color:#c9a44a;
  cursor:pointer;
  transition: all .3s ease;
  text-transform:uppercase;
  letter-spacing:0.5px;
  box-shadow: 0 3px 10px rgba(0,0,0,.4);
  image-rendering: crisp-edges;
}

.tab-btn:hover{
  border-color:#c9a44a;
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0,0,0,.5);
}

.tab-btn.active{
  border-color:#f1d27a;
  color:#f1d27a;
  box-shadow: 0 5px 15px rgba(241, 210, 122, 0.3), inset 0 2px 8px rgba(255,215,100,0.2);
}

.mail-list{
  flex:1;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:8px;
  padding-right:8px;
}

.mail-list::-webkit-scrollbar{ width:8px; }
.mail-list::-webkit-scrollbar-track{ background: rgba(0,0,0,.2); border-radius:10px; }
.mail-list::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.3); border-radius:10px; }
.mail-list::-webkit-scrollbar-thumb:hover{ background: rgba(255,255,255,.4); }

.mail-item{
  background: url('tlacitko_shop.jpg');
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  border:3px solid #5a4520;
  border-radius:12px;
  padding:14px;
  display:grid;
  grid-template-columns: 50px 1fr auto;
  gap:12px;
  align-items:center;
  transition: all .3s ease;
  box-shadow: 0 5px 15px rgba(0,0,0,.5), inset 0 2px 8px rgba(0,0,0,0.3);
  position:relative;
  overflow:hidden;
  cursor:pointer;
  image-rendering: crisp-edges;
}

.mail-item::before{
  content:'';
  position:absolute;
  top:0; left:-100%;
  width:50%; height:100%;
  background: linear-gradient(90deg, transparent, rgba(255,215,100,0.15), transparent);
  transition:left .5s ease;
}

.mail-item:hover::before{ left:100%; }

.mail-item:hover{
  transform: translateY(-3px) scale(1.01);
  border-color:#c9a44a;
  box-shadow: 0 8px 25px rgba(0,0,0,.7), 0 0 20px rgba(241, 210, 122, 0.3), inset 0 2px 12px rgba(255,215,100,0.2);
}

.mail-item.active{
  border-color:#f1d27a;
  box-shadow: 0 8px 25px rgba(241, 210, 122, 0.4), inset 0 2px 12px rgba(255,215,100,0.3);
}

.mail-item.unread{
  border-left:5px solid #4a9eff;
  background:
    linear-gradient(90deg, rgba(74, 158, 255, 0.15), transparent 30%),
    url('tlacitko_shop.jpg');
  background-size:cover;
  background-position:center;
}

.mail-icon{
  width:50px; height:50px;
  border-radius:10px;
  background: radial-gradient(circle at center, rgba(80,85,92,0.95), rgba(40,45,50,0.98));
  border:3px solid #c9a44a;
  display:grid;
  place-items:center;
  font-size:28px;
  box-shadow: inset 0 0 15px rgba(0,0,0,.4);
}

.mail-info{ display:flex; flex-direction:column; gap:4px; min-width:0; }

.mail-from{
  font-size:13px;
  font-weight:900;
  color:#f1d27a;
  text-shadow: 0 2px 4px rgba(0,0,0,.8);
  text-transform:uppercase;
  letter-spacing:0.5px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.mail-subject{
  font-size:13px;
  font-weight:900;
  color:#ffffff;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.mail-preview{
  font-size:11px;
  color:#c9a44a;
  line-height:1.35;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.mail-meta{
  display:flex;
  flex-direction:column;
  gap:6px;
  align-items:flex-end;
}

.mail-time{
  font-size:11px;
  font-weight:900;
  color:#c9a44a;
  text-shadow: 0 2px 4px rgba(0,0,0,.8);
  white-space:nowrap;
}

.mail-badges{ display:flex; gap:6px; flex-wrap:wrap; justify-content:flex-end; }

.badge{
  padding:4px 8px;
  border-radius:7px;
  font-size:9px;
  font-weight:900;
  text-transform:uppercase;
  letter-spacing:0.5px;
  white-space:nowrap;
}

.badge.new{
  background: linear-gradient(135deg, #4a9eff, #2563eb);
  color:#fff;
  box-shadow: 0 2px 8px rgba(74, 158, 255, 0.4);
}

.badge.reward{
  background: linear-gradient(135deg, #fbbf24, #f59e0b);
  color:#2b1a0f;
  box-shadow: 0 2px 8px rgba(251, 191, 36, 0.4);
}

.badge.challenge{
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color:#fff;
  box-shadow: 0 2px 8px rgba(239, 68, 68, 0.4);
}

/* ===== DETAIL ===== */
.mail-detail-section{
  background:
    linear-gradient(135deg, rgba(30,36,42,0.97), rgba(18,22,26,0.99)),
    url('pozadi_menu.jpg');
  background-size:cover;
  background-position:center;
  background-blend-mode:overlay;
  border:4px solid;
  border-image: linear-gradient(135deg, #7a5a23, #c9a44a, #7a5a23) 1;
  border-radius:14px;
  padding:20px;
  box-shadow: 0 15px 45px rgba(0,0,0,.8), inset 0 2px 10px rgba(255,215,100,0.1);
  display:flex;
  flex-direction:column;
  gap:16px;
  overflow-y:auto;
}

.mail-detail-section::-webkit-scrollbar{ width:8px; }
.mail-detail-section::-webkit-scrollbar-track{ background: rgba(0,0,0,.2); border-radius:10px; }
.mail-detail-section::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.3); border-radius:10px; }
.mail-detail-section::-webkit-scrollbar-thumb:hover{ background: rgba(255,255,255,.4); }

.mail-detail-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding-bottom:14px;
  border-bottom:2px solid rgba(255, 215, 100, 0.2);
}

.detail-from{ display:flex; gap:12px; align-items:center; }

.sender-avatar{
  width:56px; height:56px;
  border-radius:12px;
  background: radial-gradient(circle at center, rgba(80,85,92,0.95), rgba(40,45,50,0.98));
  border:3px solid #c9a44a;
  display:grid;
  place-items:center;
  font-size:32px;
  box-shadow: inset 0 0 15px rgba(0,0,0,.4);
}

.sender-info{ display:flex; flex-direction:column; gap:4px; }

.sender-name{
  font-size:16px;
  font-weight:900;
  color:#f1d27a;
  text-shadow: 0 2px 4px rgba(0,0,0,.8);
  text-transform:uppercase;
  letter-spacing:0.5px;
}

.sender-email{ font-size:12px; color:#c9a44a; }

.detail-actions{ display:flex; gap:8px; }

.action-btn{
  width:40px; height:40px;
  border-radius:10px;
  border:2px solid #5a4520;
  background: url('tlacitko.jpg');
  background-size:cover;
  background-position:center;
  font-size:18px;
  cursor:pointer;
  transition: all .3s ease;
  box-shadow: 0 3px 10px rgba(0,0,0,.4);
  image-rendering: crisp-edges;
}

.action-btn:hover{
  border-color:#c9a44a;
  transform: translateY(-2px) scale(1.05);
  box-shadow: 0 5px 15px rgba(0,0,0,.5);
}

.mail-detail-subject{
  padding-bottom:12px;
  border-bottom:1px solid rgba(255, 215, 100, 0.15);
}

.mail-detail-subject h2{
  font-size:24px;
  font-weight:900;
  color:#f1d27a;
  text-shadow: 0 2px 6px rgba(0,0,0,.8);
  margin-bottom:8px;
}

.mail-detail-time{ font-size:12px; color:#c9a44a; }

.mail-detail-body{
  flex:1;
  color:#fff;
  line-height:1.8;
  font-size:14px;
}

.mail-detail-body p{ margin-bottom:14px; }
.mail-detail-body strong{ color:#f1d27a; font-weight:900; }
.mail-detail-body ul{ list-style:none; padding-left:0; margin:14px 0; }

.mail-detail-body li{
  padding:8px 12px;
  margin:6px 0;
  background: rgba(0,0,0,0.3);
  border-left:3px solid #c9a44a;
  border-radius:6px;
}

/* ===== ATTACHMENTS ===== */
.mail-attachments{
  margin-top:16px;
  padding:16px;
  background: rgba(0,0,0,0.3);
  border:2px solid #5a4520;
  border-radius:12px;
}

.attachment-item{
  display:grid;
  grid-template-columns: 50px 1fr auto;
  gap:12px;
  align-items:center;
  padding:10px;
  background: url('tlacitko.jpg');
  background-size:cover;
  background-position:center;
  border:2px solid #c9a44a;
  border-radius:10px;
  image-rendering: crisp-edges;
}

.attachment-icon{
  width:50px; height:50px;
  border-radius:10px;
  border:2px solid rgba(0,0,0,.3);
  background: rgba(0,0,0,.25);
  display:grid;
  place-items:center;
  font-size:26px;
}

.attachment-info{ display:flex; flex-direction:column; gap:4px; min-width:0; }
.attachment-name{ font-weight:900; color:#f1d27a; }
.attachment-size{ font-size:12px; color:#c9a44a; }

.claim-btn{
  padding:10px 14px;
  border-radius:10px;
  border:2px solid #5a4520;
  background: url('tlacitko_shop.jpg');
  background-size:cover;
  background-position:center;
  font-weight:900;
  font-size:12px;
  color:#f1d27a;
  cursor:pointer;
  transition: all .3s ease;
  text-transform:uppercase;
  letter-spacing:.5px;
  box-shadow: 0 4px 12px rgba(0,0,0,.4);
  image-rendering: crisp-edges;
}

.claim-btn:hover{
  border-color:#f1d27a;
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(0,0,0,.5), 0 0 15px rgba(241, 210, 122, 0.3);
}

/* ===== FOOTER / REPLY ===== */
.mail-detail-footer{
  display:flex;
  gap:10px;
  padding-top:16px;
  border-top:2px solid rgba(255, 215, 100, 0.2);
}

.reply-btn{
  padding:10px 20px;
  border-radius:10px;
  border:2px solid #5a4520;
  background: url('tlacitko.jpg');
  background-size:cover;
  background-position:center;
  font-weight:900;
  font-size:13px;
  color:#c9a44a;
  cursor:pointer;
  transition: all .3s ease;
  text-transform:uppercase;
  letter-spacing:.5px;
  box-shadow: 0 4px 12px rgba(0,0,0,.4);
  image-rendering: crisp-edges;
}

.reply-btn:hover{
  border-color:#c9a44a;
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(0,0,0,.5);
}

.reply-btn.primary{
  border-color:#c9a44a;
  color:#f1d27a;
  box-shadow: 0 4px 12px rgba(241, 210, 122, 0.3), inset 0 2px 8px rgba(255,215,100,0.1);
}

.reply-btn.primary:hover{
  border-color:#f1d27a;
  box-shadow: 0 6px 18px rgba(241, 210, 122, 0.4), 0 0 20px rgba(241, 210, 122, 0.2);
}

.reply-btn.danger{ border-color:#8b4513; color:#ff6b6b; }

.reply-btn.danger:hover{
  border-color:#ff6b6b;
  box-shadow: 0 6px 18px rgba(255,107,107,0.4), 0 0 20px rgba(255,107,107,0.2);
}

/* ===== RESPONSIVE ===== */
@media (max-width: 1400px){
  .mail-container{ grid-template-columns: 400px 1fr; }
}

@media (max-width: 1200px){
  .mail-container{ grid-template-columns: 1fr; }
  .mail-detail-section{ display:none; }
}

@media (max-width: 980px){
  .layout{ grid-template-columns: 1fr; }
  .left-panel{ display:none; }
}

/* ===== COMPOSE ===== */
.compose-open-btn{
  padding:8px 14px;
  border-radius:10px;
  border:2px solid #5a4520;
  background: url('tlacitko_shop.jpg');
  background-size:cover;
  background-position:center;
  font-weight:900;
  font-size:12px;
  color:#f1d27a;
  cursor:pointer;
  transition: all .3s ease;
  text-transform:uppercase;
  letter-spacing:.5px;
  box-shadow: 0 4px 12px rgba(0,0,0,.4);
  image-rendering: crisp-edges;
  white-space:nowrap;
}

.compose-open-btn:hover{
  border-color:#f1d27a;
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(0,0,0,.5), 0 0 15px rgba(241, 210, 122, 0.25);
}

.compose-panel{
  margin-top:10px;
  padding:14px;
  border-radius:14px;
  border:3px solid #5a4520;
  background:
    linear-gradient(135deg, rgba(30,36,42,0.97), rgba(18,22,26,0.99)),
    url('pozadi_menu.jpg');
  background-size:cover;
  background-position:center;
  background-blend-mode:overlay;
  box-shadow: 0 12px 35px rgba(0,0,0,.7), inset 0 2px 10px rgba(255,215,100,0.08);
  display:none;
}

.compose-panel.open{ display:block; }

.compose-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding-bottom:10px;
  border-bottom:2px solid rgba(255, 215, 100, 0.18);
  margin-bottom:12px;
}

.compose-title{
  font-size:16px;
  font-weight:900;
  color:#f1d27a;
  text-transform:uppercase;
  letter-spacing:1px;
  text-shadow: 0 2px 6px rgba(0,0,0,.8);
}

.compose-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}

.compose-label{
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:12px;
  font-weight:900;
  color:#c9a44a;
  text-transform:uppercase;
  letter-spacing:.5px;
}

.compose-full{ grid-column: 1 / -1; }

.compose-input,
.compose-textarea{
  width:100%;
  border-radius:10px;
  border:2px solid #5a4520;
  background: rgba(0,0,0,0.35);
  color:#fff;
  font-weight:800;
  padding:10px 12px;
  outline:none;
  box-shadow: inset 0 2px 8px rgba(0,0,0,.5);
}

.compose-input::placeholder,
.compose-textarea::placeholder{
  color: rgba(201,164,74,0.75);
  font-weight:900;
}

.compose-input:focus,
.compose-textarea:focus{
  border-color:#f1d27a;
  box-shadow: 0 0 0 2px rgba(241,210,122,0.15), inset 0 2px 10px rgba(0,0,0,.55);
}

.compose-textarea{
  resize: vertical;
  min-height: 120px;
}

.compose-actions{
  display:flex;
  gap:10px;
  justify-content:flex-end;
  margin-top:12px;
}

.compose-hint{
  margin-top:10px;
  font-size:11px;
  color:#c9a44a;
  opacity:.9;
}

/* malé upozornění při chybě (např. chybí adresát / text) */
.shake{
  animation: mailShake 320ms ease-in-out;
}

@keyframes mailShake{
  0%{ transform: translateX(0); }
  25%{ transform: translateX(-6px); }
  50%{ transform: translateX(6px); }
  75%{ transform: translateX(-4px); }
  100%{ transform: translateX(0); }
}

@media (max-width: 520px){
  .compose-grid{ grid-template-columns: 1fr; }
}