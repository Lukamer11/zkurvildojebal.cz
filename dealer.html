<!doctype html>
<html lang="cs">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>Dealer - Drogy & SÃ¡zenÃ­</title>
    <link rel="stylesheet" href="dealer.css">
    <script src="supabase_stub.js"></script>
    <link rel="stylesheet" href="menu.css">
    <link rel="stylesheet" href="mobile.css">
    <script src="menu.js" defer></script>
    <link rel="stylesheet" href="sf_scale.css">
    <script src="sf_scale.js"></script>
    <link rel="stylesheet" href="global.css">
<script src="lang_pack.js"></script>
</head>
<body>
<audio id="bgMusic" src="go.mp3" loop preload="auto"></audio>

<div class="layout">

  <!-- LEVÃ PANEL -->
  <aside class="left-panel">
  
</aside>

  <!-- DEALER AREA -->
  <main class="dealer-area">

    <!-- NÃZEV -->
    <div class="dealer-title">ğŸ’Š DEALER - DROGY & SÃZENÃ ğŸ’Š</div>

    <div class="dealer-container">

      <!-- LEVÃ ÄŒÃST - DROGY -->
      <div class="drugs-section">
        <div class="section-header">
          <h2>ğŸ’Š DOSTUPNÃ‰ DROGY</h2>
          <div class="dealer-info">
            SpotÅ™ebnÃ­ itemy pro boosty ve fight!
          </div>
        </div>

        <div class="drugs-grid" id="drugsGrid">
          <!-- Drugs will be loaded here by JS -->
        </div>
      </div>

      <!-- STÅ˜EDNÃ ÄŒÃST - MINI HRA KULIÄŒKY -->
      <div class="game-section">
        <div class="section-header">
          <h2>ğŸ² SÃZENÃ - KULIÄŒKA</h2>
        </div>

        <div class="game-container">
          <div class="game-instructions">
            VsaÄ penÃ­ze nebo cigarety a zkus Å¡tÄ›stÃ­!<br>
            <span style="color: #ff6b6b;">âš ï¸ 70% Å¡ance na prohru!</span>
          </div>

          <div class="bet-controls">
            <div class="bet-type-selector">
              <button class="bet-type-btn active" data-type="money">ğŸ’° PENÃZE</button>
              <button class="bet-type-btn" data-type="cigarettes">ğŸš¬ CIGARETY</button>
            </div>

            <div class="bet-amount-control">
              <label>SÃ¡zka:</label>
              <input type="number" id="betAmount" min="1" value="100" step="10">
            </div>

            <div class="quick-bet-btns">
              <button class="quick-bet" data-amount="50">50</button>
              <button class="quick-bet" data-amount="100">100</button>
              <button class="quick-bet" data-amount="500">500</button>
              <button class="quick-bet" data-amount="1000">1000</button>
            </div>

            <button class="play-btn" id="playBtn">ğŸ² VSADIT & HRÃT</button>
          </div>

          <div class="game-board" id="gameBoard">
            <div class="ball" id="ball">âšª</div>
            <div class="slots-container" id="slotsContainer">
              <!-- Slots will be generated by JS -->
            </div>
          </div>

          <div class="game-result" id="gameResult"></div>
        </div>
      </div>

      <!-- PRAVÃ ÄŒÃST - INVENTÃÅ˜ DROG -->
      <div class="drug-inventory-section">
        <div class="section-header">
          <h2>ğŸ’Š MÅ®J STASH</h2>
          <span class="item-count"><span id="drugCount">0</span> / 12</span>
        </div>

        <div class="drug-inventory-grid" id="drugInventory">
          <!-- Drug inventory will be loaded here by JS -->
        </div>

        <div class="inventory-info">
          ğŸ’¡ Drogy pouÅ¾ij v arÃ©nÄ› pro doÄasnÃ© boosty!
        </div>
      </div>

    </div>

  </main>

</div>

<script src="dealer.js"></script>
<script>
const music = document.getElementById("bgMusic");
if (music) {
  music.volume = 0.4;

  const savedTime = parseFloat(localStorage.getItem("musicTime") || "0");
  if (!Number.isNaN(savedTime) && savedTime > 0) {
    try { music.currentTime = savedTime; } catch (_) {}
  }

  function safePlay() {
    const p = music.play();
    if (p && typeof p.catch === "function") p.catch(() => {});
  }

  safePlay();

  document.addEventListener(
    "click",
    () => {
      if (music.paused) safePlay();
    },
    { once: true }
  );

  setInterval(() => {
    if (!music.paused) {
      localStorage.setItem("musicTime", String(music.currentTime || 0));
    }
  }, 500);
}
</script>

<script src="mobile_lock.js"></script>
</body>
</html>