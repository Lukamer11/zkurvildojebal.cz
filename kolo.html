<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>Kolo ≈†tƒõst√≠ - Gamble System</title>
  <link rel="stylesheet" href="kolo.css">
  <script src="supabase_stub.js"></script>
  <link rel="stylesheet" href="menu.css">
  <script src="menu.js" defer></script>
<script src="lang_pack.js"></script>
<link rel="stylesheet" href="mobile.css">
</head>
<body>
<audio id="bgMusic" src="go.mp3" loop preload="auto"></audio>

<div class="layout">

  <!-- LEV√ù PANEL -->
  <aside class="left-panel">
  
</aside>

  <!-- KOLO AREA -->
  <main class="kolo-area">

    <!-- N√ÅZEV -->
    <div class="kolo-title">üé∞ KOLO ≈†TƒöST√ç üé∞</div>

    <!-- GAME TABS -->
    <div class="game-tabs">
      <button class="game-tab active" data-game="wheel">üé∞ KOLO ≈†TƒöST√ç</button>
      <button class="game-tab" data-game="coinflip">ü™ô COIN FLIP</button>
      <button class="game-tab" data-game="crash">üìà CRASH GAME</button>
      <button class="game-tab" data-game="dice">üé≤ KOSTKY</button>
    </div>

    <div class="kolo-container">

      <!-- GAME: WHEEL OF FORTUNE -->
      <div class="game-content active" id="game-wheel">
      <div class="wheel-section">
        <div class="section-header">
          <h2>üé° TOƒåIT KOLEM</h2>
          <div class="free-spin-badge" id="freeSpinBadge">
            ‚≠ê ZDARMA DNES
          </div>
        </div>

        <div class="wheel-wrapper">
          <div class="wheel-pointer">‚ñº</div>
          <canvas id="wheelCanvas" width="500" height="500"></canvas>
          <button class="spin-button" id="spinButton">
            <div class="spin-icon">üé∞</div>
            <div class="spin-text">ZATOƒåIT</div>
            <div class="spin-cost" id="spinCost">10 üö¨</div>
          </button>
        </div>

        <!-- CURRENT REWARD DISPLAY -->
        <div class="current-reward" id="currentReward" style="display: none;">
          <div class="reward-glow"></div>
          <div class="reward-content">
            <div class="reward-icon" id="rewardIcon">üí∞</div>
            <div class="reward-text" id="rewardText">V√ùHRA!</div>
            <div class="reward-amount" id="rewardAmount">+500‚ÇΩ</div>
          </div>
        </div>
      </div>

      <!-- PROST≈òEDN√ç ƒå√ÅST - STATISTIKY & INFO -->
      <div class="stats-section">
        <div class="section-header">
          <h2>üìä STATISTIKY</h2>
        </div>

        <div class="stat-card">
          <div class="stat-icon">üé≤</div>
          <div class="stat-info">
            <div class="stat-label">Celkem zatoƒçen√≠</div>
            <div class="stat-value" id="totalSpins">0</div>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">üí∞</div>
          <div class="stat-info">
            <div class="stat-label">Celkov√° v√Ωhra (‚ÇΩ)</div>
            <div class="stat-value" id="totalMoneyWon">0</div>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">üö¨</div>
          <div class="stat-info">
            <div class="stat-label">Celkov√° v√Ωhra (cig)</div>
            <div class="stat-value" id="totalCigsWon">0</div>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">üèÜ</div>
          <div class="stat-info">
            <div class="stat-label">Nejvƒõt≈°√≠ v√Ωhra</div>
            <div class="stat-value" id="biggestWin">0‚ÇΩ</div>
          </div>
        </div>

        <div class="stat-card special">
          <div class="stat-icon">‚≠ê</div>
          <div class="stat-info">
            <div class="stat-label">Dne≈°n√≠ zdarma</div>
            <div class="stat-value" id="freeSpin">Dostupn√©</div>
          </div>
        </div>

        <div class="stat-card special">
          <div class="stat-icon">üéØ</div>
          <div class="stat-info">
            <div class="stat-label">Aktivn√≠ d√≠lky</div>
            <div class="stat-value" id="activeSlices">6 / 11</div>
          </div>
        </div>

        <!-- TIMER DO DAL≈†√çHO FREE SPINU -->
        <div class="timer-card">
          <div class="timer-icon">‚è∞</div>
          <div class="timer-info">
            <div class="timer-label">Dal≈°√≠ zdarma za:</div>
            <div class="timer-value" id="freeSpinTimer">00:00:00</div>
          </div>
        </div>
      </div>

      <!-- PRAV√Å ƒå√ÅST - UPGRADY & HISTORY -->
      <div class="upgrade-section">
        <div class="section-header">
          <h2>‚¨ÜÔ∏è UPGRADY KOLA</h2>
        </div>

        <div class="upgrade-info">
          <p>Odemkni dal≈°√≠ d√≠lky na kole pro lep≈°√≠ ≈°ance na v√Ωhru!</p>
          <p><strong>Cena:</strong> 50üö¨ za ka≈æd√Ω d√≠lek</p>
          <p><strong>Maximum:</strong> 11 d√≠lk≈Ø</p>
        </div>

        <div class="upgrade-grid" id="upgradeGrid">
          <!-- Generated by JS -->
        </div>

        <div class="section-header" style="margin-top: 24px;">
          <h2>üìú POSLEDN√ç V√ùHRY</h2>
        </div>

        <div class="history-list" id="historyList">
          <div class="history-empty">
            <div class="history-empty-icon">üé∞</div>
            <div class="history-empty-text">Zatoƒçte kolem!</div>
          </div>
        </div>
      </div>

    </div>
    </div>

    <!-- GAME: COIN FLIP -->
    <div class="game-content" id="game-coinflip">
      <div class="coinflip-section">
        <div class="section-header">
          <h2>ü™ô COIN FLIP</h2>
          <div class="game-balance">S√°zka: <span id="coinBet">50</span>‚ÇΩ</div>
        </div>

        <div class="coin-arena">
          <div class="coin-display" id="coinDisplay">
            <div class="coin">
              <div class="coin-face heads">‚ÇΩ</div>
              <div class="coin-face tails">üíÄ</div>
            </div>
          </div>

          <div class="bet-controls">
            <div class="bet-input-group">
              <button class="bet-adjust" onclick="adjustCoinBet(-10)">-10</button>
              <input type="number" id="coinBetInput" value="50" min="10" max="10000">
              <button class="bet-adjust" onclick="adjustCoinBet(10)">+10</button>
            </div>
            <div class="bet-quick">
              <button onclick="setCoinBet(50)">50‚ÇΩ</button>
              <button onclick="setCoinBet(100)">100‚ÇΩ</button>
              <button onclick="setCoinBet(500)">500‚ÇΩ</button>
              <button onclick="setCoinBet(1000)">1K‚ÇΩ</button>
            </div>
          </div>

          <div class="choice-buttons">
            <button class="choice-btn heads" onclick="playCoinFlip('heads')">
              <div class="choice-icon">‚ÇΩ</div>
              <div class="choice-text">HLAVA</div>
              <div class="choice-multi">2x v√Ωhra</div>
            </button>
            <button class="choice-btn tails" onclick="playCoinFlip('tails')">
              <div class="choice-icon">üíÄ</div>
              <div class="choice-text">OREL</div>
              <div class="choice-multi">2x v√Ωhra</div>
            </button>
          </div>
        </div>
      </div>

      <div class="game-stats-section">
        <div class="section-header">
          <h2>üìä STATISTIKY</h2>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üé≤</div>
          <div class="stat-info">
            <div class="stat-label">Celkem her</div>
            <div class="stat-value" id="coinTotalGames">0</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">‚úÖ</div>
          <div class="stat-info">
            <div class="stat-label">V√Ωhry</div>
            <div class="stat-value" id="coinWins">0</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">‚ùå</div>
          <div class="stat-info">
            <div class="stat-label">Prohry</div>
            <div class="stat-value" id="coinLosses">0</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üí∞</div>
          <div class="stat-info">
            <div class="stat-label">Celkov√Ω profit</div>
            <div class="stat-value" id="coinProfit">0‚ÇΩ</div>
          </div>
        </div>
        <div class="game-history-section">
          <div class="section-header">
            <h2>üìú HISTORIE</h2>
          </div>
          <div class="history-list" id="coinHistory">
            <div class="history-empty">
              <div class="history-empty-icon">ü™ô</div>
              <div class="history-empty-text">Zat√≠m ≈æ√°dn√© hry</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- GAME: CRASH -->
    <div class="game-content" id="game-crash">
      <div class="crash-section">
        <div class="section-header">
          <h2>üìà CRASH GAME</h2>
          <div class="game-balance">S√°zka: <span id="crashBet">100</span>‚ÇΩ</div>
        </div>

        <div class="crash-arena">
          <div class="crash-display">
            <div class="crash-graph" id="crashGraph">
              <canvas id="crashCanvas" width="600" height="400"></canvas>
              <div class="crash-multiplier" id="crashMultiplier">1.00x</div>
            </div>
          </div>

          <div class="bet-controls">
            <div class="bet-input-group">
              <button class="bet-adjust" onclick="adjustCrashBet(-50)">-50</button>
              <input type="number" id="crashBetInput" value="100" min="10" max="10000">
              <button class="bet-adjust" onclick="adjustCrashBet(50)">+50</button>
            </div>
            <div class="bet-quick">
              <button onclick="setCrashBet(100)">100‚ÇΩ</button>
              <button onclick="setCrashBet(500)">500‚ÇΩ</button>
              <button onclick="setCrashBet(1000)">1K‚ÇΩ</button>
              <button onclick="setCrashBet(5000)">5K‚ÇΩ</button>
            </div>
          </div>

          <div class="crash-actions">
            <button class="crash-bet-btn" id="crashBetBtn" onclick="startCrash()">
              <div class="btn-text">VSADIT</div>
            </button>
            <button class="crash-cashout-btn" id="crashCashoutBtn" onclick="cashoutCrash()" style="display: none;">
              <div class="btn-text">VYBRAT</div>
              <div class="btn-multi" id="cashoutMulti">0.00x</div>
            </button>
          </div>
        </div>
      </div>

      <div class="game-stats-section">
        <div class="section-header">
          <h2>üìä STATISTIKY</h2>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üé≤</div>
          <div class="stat-info">
            <div class="stat-label">Celkem her</div>
            <div class="stat-value" id="crashTotalGames">0</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üèÜ</div>
          <div class="stat-info">
            <div class="stat-label">Nejvy≈°≈°√≠ multi</div>
            <div class="stat-value" id="crashHighest">0.00x</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üí∞</div>
          <div class="stat-info">
            <div class="stat-label">Celkov√Ω profit</div>
            <div class="stat-value" id="crashProfit">0‚ÇΩ</div>
          </div>
        </div>
        <div class="game-history-section">
          <div class="section-header">
            <h2>üìú HISTORIE</h2>
          </div>
          <div class="history-list" id="crashHistory">
            <div class="history-empty">
              <div class="history-empty-icon">üìà</div>
              <div class="history-empty-text">Zat√≠m ≈æ√°dn√© hry</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- GAME: DICE -->
    <div class="game-content" id="game-dice">
      <div class="dice-section">
        <div class="section-header">
          <h2>üé≤ KOSTKY</h2>
          <div class="game-balance">S√°zka: <span id="diceBet">50</span>üö¨</div>
        </div>

        <div class="dice-arena">
          <div class="dice-display">
            <div class="dice-row">
              <div class="dice" id="dice1">
                <div class="dice-face">‚öÄ</div>
              </div>
              <div class="dice" id="dice2">
                <div class="dice-face">‚öÄ</div>
              </div>
              <div class="dice" id="dice3">
                <div class="dice-face">‚öÄ</div>
              </div>
            </div>
            <div class="dice-total" id="diceTotal">Souƒçet: 3</div>
          </div>

          <div class="bet-controls">
            <div class="bet-input-group">
              <button class="bet-adjust" onclick="adjustDiceBet(-5)">-5</button>
              <input type="number" id="diceBetInput" value="5" min="1" max="100">
              <button class="bet-adjust" onclick="adjustDiceBet(5)">+5</button>
            </div>
            <div class="bet-quick">
              <button onclick="setDiceBet(5)">5üö¨</button>
              <button onclick="setDiceBet(10)">10üö¨</button>
              <button onclick="setDiceBet(25)">25üö¨</button>
              <button onclick="setDiceBet(50)">50üö¨</button>
            </div>
          </div>

          <div class="dice-prediction">
            <label>Tipy na souƒçet:</label>
            <div class="prediction-grid">
              <button class="pred-btn" onclick="playDice('low')">
                <div>3-8</div>
                <div class="pred-multi">2.5x</div>
              </button>
              <button class="pred-btn" onclick="playDice('mid')">
                <div>9-12</div>
                <div class="pred-multi">2x</div>
              </button>
              <button class="pred-btn" onclick="playDice('high')">
                <div>13-18</div>
                <div class="pred-multi">2.5x</div>
              </button>
              <button class="pred-btn special" onclick="playDice('triple')">
                <div>TRIPLE</div>
                <div class="pred-multi">10x</div>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="game-stats-section">
        <div class="section-header">
          <h2>üìä STATISTIKY</h2>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üé≤</div>
          <div class="stat-info">
            <div class="stat-label">Celkem her</div>
            <div class="stat-value" id="diceTotalGames">0</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">‚úÖ</div>
          <div class="stat-info">
            <div class="stat-label">V√Ωhry</div>
            <div class="stat-value" id="diceWins">0</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üö¨</div>
          <div class="stat-info">
            <div class="stat-label">Celkov√Ω profit</div>
            <div class="stat-value" id="diceProfit">0üö¨</div>
          </div>
        </div>
        <div class="game-history-section">
          <div class="section-header">
            <h2>üìú HISTORIE</h2>
          </div>
          <div class="history-list" id="diceHistory">
            <div class="history-empty">
              <div class="history-empty-icon">üé≤</div>
              <div class="history-empty-text">Zat√≠m ≈æ√°dn√© hry</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    </div>

  </main>

</div>

<script src="kolo.js"></script>
<script>
const music = document.getElementById("bgMusic");
if (music) {
  music.volume = 0.4;

  const savedTime = parseFloat(localStorage.getItem("musicTime") || "0");
  if (!Number.isNaN(savedTime) && savedTime > 0) {
    try { music.currentTime = savedTime; } catch (_) {}
  }

  function safePlay() {
    const p = music.play();
    if (p && typeof p.catch === "function") p.catch(() => {});
  }

  safePlay();

  document.addEventListener(
    "click",
    () => {
      if (music.paused) safePlay();
    },
    { once: true }
  );

  setInterval(() => {
    if (!music.paused) {
      localStorage.setItem("musicTime", String(music.currentTime || 0));
    }
  }, 500);
}
</script>

<script src="mobile_lock.js"></script>
</body>
</html>